<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
    <changeSet author="nakul (generated)" id="1472285205676-1">
        <createTable tableName="role">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="rolePK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="authority" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-2">
        <createTable tableName="user">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="userPK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="account_expired" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="account_locked" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="enabled" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="password" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="password_expired" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="username" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-3">
        <createTable tableName="user_role">
            <column name="user_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="role_id" type="bigint">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-4">
        <addPrimaryKey columnNames="user_id, role_id" constraintName="user_rolePK" tableName="user_role"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-7">
        <createIndex indexName="authority_uniq_1472285205585" tableName="role" unique="true">
            <column name="authority"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-8">
        <createIndex indexName="username_uniq_1472285205595" tableName="user" unique="true">
            <column name="username"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-9">
        <createIndex indexName="FK_apcc8lxk2xnug8377fatvbn04" tableName="user_role">
            <column name="user_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-10">
        <createIndex indexName="FK_it77eq964jhfqtu54081ebtio" tableName="user_role">
            <column name="role_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-5">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="user_role" constraintName="FK_it77eq964jhfqtu54081ebtio" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="role" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472285205676-6">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_role" constraintName="FK_apcc8lxk2xnug8377fatvbn04" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-1">
        <createTable tableName="article">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="articlePK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="author_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="is_deleted" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="link" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-2">
        <createTable tableName="author">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="authorPK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="is_deleted" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="last_name" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-3">
        <createTable tableName="author_author">
            <column name="author_authors_id" type="bigint"/>
            <column name="author_id" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-4">
        <createTable tableName="comment">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="commentPK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="author_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="comment" type="varchar(255)">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="is_deleted" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-5">
        <createTable tableName="follower">
            <column autoIncrement="true" name="id" type="bigint">
                <constraints nullable="false" primaryKey="true" primaryKeyName="followerPK"/>
            </column>
            <column name="version" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="follower_id" type="bigint">
                <constraints nullable="false"/>
            </column>
            <column name="is_deleted" type="bit">
                <constraints nullable="false"/>
            </column>
            <column name="last_updated" type="datetime">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-11">
        <createIndex indexName="FK_ebjpyd2e71hvfsuaiflecjl6a" tableName="article">
            <column name="author_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-12">
        <createIndex indexName="FK_8x0c2cua9xtwtg9x4aes2lrgm" tableName="author_author">
            <column name="author_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-13">
        <createIndex indexName="FK_ge1cvp20s66i91iq5m8om3hkq" tableName="author_author">
            <column name="author_authors_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-14">
        <createIndex indexName="FK_9aq5p2jgf17y6b38x5ayd90oc" tableName="comment">
            <column name="author_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-15">
        <createIndex indexName="FK_kmpje5dr4k11qus5t0my4obkq" tableName="follower">
            <column name="follower_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-6">
        <addForeignKeyConstraint baseColumnNames="author_id" baseTableName="article" constraintName="FK_ebjpyd2e71hvfsuaiflecjl6a" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="author" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-7">
        <addForeignKeyConstraint baseColumnNames="author_authors_id" baseTableName="author_author" constraintName="FK_ge1cvp20s66i91iq5m8om3hkq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="author" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-8">
        <addForeignKeyConstraint baseColumnNames="author_id" baseTableName="author_author" constraintName="FK_8x0c2cua9xtwtg9x4aes2lrgm" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="author" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-9">
        <addForeignKeyConstraint baseColumnNames="author_id" baseTableName="comment" constraintName="FK_9aq5p2jgf17y6b38x5ayd90oc" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="author" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472287601282-10">
        <addForeignKeyConstraint baseColumnNames="follower_id" baseTableName="follower" constraintName="FK_kmpje5dr4k11qus5t0my4obkq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="author" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472289848180-1">
        <addColumn tableName="article">
            <column name="date_published" type="datetime">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472289848180-2">
        <dropForeignKeyConstraint baseTableName="author_author" baseTableSchemaName="healthtech_dev" constraintName="FK_ge1cvp20s66i91iq5m8om3hkq"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472289848180-3">
        <dropForeignKeyConstraint baseTableName="author_author" baseTableSchemaName="healthtech_dev" constraintName="FK_8x0c2cua9xtwtg9x4aes2lrgm"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472289848180-4">
        <dropTable tableName="author_author"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472290084555-1">
        <createIndex indexName="title_uniq_1472290084355" tableName="article" unique="true">
            <column name="title"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472295975675-1">
        <createTable tableName="article_comment">
            <column name="article_comments_id" type="bigint"/>
            <column name="comment_id" type="bigint"/>
        </createTable>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472295975675-4">
        <createIndex indexName="FK_80oxnmshogwe6db4qjvmik82g" tableName="article_comment">
            <column name="comment_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472295975675-5">
        <createIndex indexName="FK_9xjx1bsuyxoouy5k3bw5ldbtk" tableName="article_comment">
            <column name="article_comments_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472295975675-2">
        <addForeignKeyConstraint baseColumnNames="article_comments_id" baseTableName="article_comment" constraintName="FK_9xjx1bsuyxoouy5k3bw5ldbtk" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="article" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472295975675-3">
        <addForeignKeyConstraint baseColumnNames="comment_id" baseTableName="article_comment" constraintName="FK_80oxnmshogwe6db4qjvmik82g" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="comment" referencesUniqueColumn="false"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472296540057-1">
        <modifyDataType columnName="description" newDataType="longtext" tableName="article"/>
    </changeSet>
    <changeSet author="nakul (generated)" id="1472296540057-2">
        <dropNotNullConstraint columnDataType="varchar(255)" columnName="link" tableName="article"/>
    </changeSet>

</databaseChangeLog>